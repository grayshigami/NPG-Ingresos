import{a as p,i as g,_ as v}from"./logo-negro-Sinfondo-DYJ1N-ui.js";import{_ as b,c as u,a as o,t as m,b as i,w as s,v as l,i as E,d as f,o as d}from"./index-BF6LzyhM.js";const U={name:"crear-usuario",data(){return{name:"",nuevoElemento:{nombre:"",apellido:"",nombreUsuario:"",correo:"",contrasena:"",tipoUsuario:0,registroId:null,actualizacionId:null},errorMessage:""}},created(){this.nuevoElemento.registroId=localStorage.getItem("user_id"),this.nuevoElemento.actualizacionId=localStorage.getItem("user_id"),this.name=localStorage.getItem("name")},methods:{async agregarElemento(){try{const a=await p.post(`https://${g}:7207/api/Usuario`,this.nuevoElemento,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});this.nuevoElemento.nombre||(this.errorMessage="Debes ingresar el nombre"),this.nuevoElemento.nombreUsuario||(this.errorMessage="Debes ingresar el nombre de usuario"),this.nuevoElemento.contrasena||(this.errorMessage="Debes ingresar la contraseña");const e=a.data;this.$emit("nuevo-elemento",e),this.nuevoElemento={nombre:"",apellido:"",nombreUsuario:"",correo:"",contrasena:"",tipoUsuario:0},this.$router.back()}catch(a){this.errorMessage=a.response.data.message}},logout(){localStorage.removeItem("token"),window.location.href="/login-component"},goBack(){this.$router.back()}}},k={class:"general"},c={class:"toolbar"},x={class:"b-user"},y={class:"form-data"},C={key:0};function V(a,e,w,I,t,n){return d(),u("div",k,[o("div",c,[e[10]||(e[10]=o("img",{src:v,alt:"",width:"10%",height:"10%"},null,-1)),o("h2",x,"Bienvenido "+m(t.name),1),e[11]||(e[11]=o("div",{class:"spacer"},null,-1)),o("button",{onClick:e[0]||(e[0]=(...r)=>n.logout&&n.logout(...r))},e[9]||(e[9]=[o("i",{class:"fa-solid fa-power-off"},null,-1),i(" Cerrar sesión ")]))]),o("div",y,[e[15]||(e[15]=o("h1",null,"Crear usuario",-1)),s(o("input",{type:"text",placeholder:"Nombre","onUpdate:modelValue":e[1]||(e[1]=r=>t.nuevoElemento.nombre=r)},null,512),[[l,t.nuevoElemento.nombre]]),s(o("input",{type:"text",placeholder:"Apellido","onUpdate:modelValue":e[2]||(e[2]=r=>t.nuevoElemento.apellido=r)},null,512),[[l,t.nuevoElemento.apellido]]),s(o("input",{type:"text",placeholder:"Nombre de usuario","onUpdate:modelValue":e[3]||(e[3]=r=>t.nuevoElemento.nombreUsuario=r)},null,512),[[l,t.nuevoElemento.nombreUsuario]]),s(o("input",{type:"text",placeholder:"Correo","onUpdate:modelValue":e[4]||(e[4]=r=>t.nuevoElemento.correo=r)},null,512),[[l,t.nuevoElemento.correo]]),s(o("input",{type:"password",placeholder:"Contraseña","onUpdate:modelValue":e[5]||(e[5]=r=>t.nuevoElemento.contrasena=r)},null,512),[[l,t.nuevoElemento.contrasena]]),s(o("select",{id:"selectTipoUsuario","onUpdate:modelValue":e[6]||(e[6]=r=>t.nuevoElemento.tipoUsuario=r)},e[12]||(e[12]=[o("option",{value:0},"Usuario",-1),o("option",{value:1},"Administrador",-1)]),512),[[E,t.nuevoElemento.tipoUsuario]]),o("button",{onClick:e[7]||(e[7]=(...r)=>n.agregarElemento&&n.agregarElemento(...r))},e[13]||(e[13]=[o("i",{class:"fa-solid fa-floppy-disk"},null,-1),i(" Guardar ")])),o("button",{onClick:e[8]||(e[8]=(...r)=>n.goBack&&n.goBack(...r))},e[14]||(e[14]=[o("i",{class:"fa-solid fa-arrow-left"},null,-1),i(" Volver ")])),t.errorMessage?(d(),u("p",C,m(t.errorMessage),1)):f("",!0)])])}const S=b(U,[["render",V]]);export{S as default};
