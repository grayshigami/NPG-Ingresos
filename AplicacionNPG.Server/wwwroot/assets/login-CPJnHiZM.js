import{a as m,i as c,_ as g}from"./logo-negro-Sinfondo-DYJ1N-ui.js";import{_,c as l,a as s,w as u,v as p,b as f,t as h,d as U,o as d}from"./index-BF6LzyhM.js";const y={name:"login-component",data(){return{nombreUsuario:"",contrasena:"",errorMessage:""}},methods:{async login(){try{const r=await m.post(`https://${c}:7207/api/Auth/login`,{nombreUsuario:this.nombreUsuario,contrasena:this.contrasena});console.log("Response_login:",r);const{access_token:e,user_type:n,name:i,user_id:o,register_id:a}=r.data;localStorage.setItem("token",e),localStorage.setItem("user_type",n),localStorage.setItem("name",i),localStorage.setItem("user_id",o),localStorage.setItem("register_id",a),console.log("Token:",e),n==0?this.$router.push("/pantalla-usuario"):this.$router.push("/pantalla-administrador"),console.log("userId:",o)}catch(r){console.log("Error:",r),this.errorMessage="Usuario o contrase침a invalidos"}}}},I={class:"form-data"},b={key:0,class:"err"};function k(r,e,n,i,o,a){return d(),l("div",I,[e[4]||(e[4]=s("img",{src:g,width:"250",height:"120"},null,-1)),e[5]||(e[5]=s("h1",null,"Iniciar sesi칩n",-1)),u(s("input",{type:"text",placeholder:"Usuario","onUpdate:modelValue":e[0]||(e[0]=t=>o.nombreUsuario=t)},null,512),[[p,o.nombreUsuario]]),u(s("input",{type:"password",placeholder:"Contrase침a","onUpdate:modelValue":e[1]||(e[1]=t=>o.contrasena=t)},null,512),[[p,o.contrasena]]),s("button",{onClick:e[2]||(e[2]=(...t)=>a.login&&a.login(...t))},e[3]||(e[3]=[s("i",{class:"fa-solid fa-user"},null,-1),f(" Iniciar sesi칩n ")])),o.errorMessage?(d(),l("div",b,h(o.errorMessage),1)):U("",!0)])}const S=_(y,[["render",k]]);export{S as default};
