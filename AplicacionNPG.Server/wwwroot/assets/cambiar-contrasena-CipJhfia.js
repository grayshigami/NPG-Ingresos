import{a as p,i as c,_ as g}from"./logo-negro-Sinfondo-DYJ1N-ui.js";import{_ as f,c as l,a as e,t as i,b as n,w as u,v as d,d as v,o as m}from"./index-BF6LzyhM.js";const k={name:"cambiar-contrasena",data(){return{name:"",actual:"",nueva:"",message:"",actualizacionId:null,usuarioId:null}},created(){this.name=localStorage.getItem("name"),this.usuarioId=localStorage.getItem("user_id")},methods:{async updateContrasena(){try{const r=await p.put(`https://${c}:7207/api/Auth/cambiar-contrasena/${this.usuarioId}`,{ContrasenaActual:this.actual,ContrasenaNueva:this.nueva},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});this.message=r.data.message,this.actual="",this.nueva="",this.$router.back()}catch(r){this.message=r.response.data.message||"Error al actualizar contraseña"}},logout(){localStorage.removeItem("token"),window.location.href="/login-component"},goBack(){this.$router.back()}}},C={class:"general"},b={class:"toolbar"},h={class:"b-user"},w={class:"form-data"},B={key:0};function I(r,a,y,x,s,o){return m(),l("div",C,[e("div",b,[a[6]||(a[6]=e("img",{src:g,alt:"",width:"10%",height:"10%"},null,-1)),e("h2",h,"Bienvenido "+i(s.name),1),a[7]||(a[7]=e("div",{class:"spacer"},null,-1)),e("button",{onClick:a[0]||(a[0]=(...t)=>o.logout&&o.logout(...t))},a[5]||(a[5]=[e("i",{class:"fa-solid fa-power-off"},null,-1),n(" Cerrar sesión ")]))]),e("div",w,[a[10]||(a[10]=e("h1",null,"Cambiar contraseña",-1)),u(e("input",{type:"password",placeholder:"Contraseña actual","onUpdate:modelValue":a[1]||(a[1]=t=>s.actual=t),required:""},null,512),[[d,s.actual]]),u(e("input",{type:"password",placeholder:"Contraseña nueva","onUpdate:modelValue":a[2]||(a[2]=t=>s.nueva=t),required:""},null,512),[[d,s.nueva]]),e("button",{onClick:a[3]||(a[3]=(...t)=>o.updateContrasena&&o.updateContrasena(...t))},a[8]||(a[8]=[e("i",{class:"fa-solid fa-floppy-disk"},null,-1),n(" Guardar ")])),e("button",{onClick:a[4]||(a[4]=(...t)=>o.goBack&&o.goBack(...t))},a[9]||(a[9]=[e("i",{class:"fa-solid fa-arrow-left"},null,-1),n(" Volver ")])),s.message?(m(),l("p",B,i(s.message),1)):v("",!0)])])}const N=f(k,[["render",I]]);export{N as default};
